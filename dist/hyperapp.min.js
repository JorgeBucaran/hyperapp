!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.hyperapp=t()}(this,function(){"use strict";var e=function(e){var t,n=function(e,t){setTimeout(function(n){return e(t)},0)},o=function(e,t){var n,o={};if(r(typeof t)||Array.isArray(t))return t;for(n in e)o[n]=e[n];for(n in t)o[n]=t[n];return o},r=function(e){return"string"===e||"number"===e||"boolean"===e},a=function(e,n,o){f(b,t=n(e,v),o,0)},i=function(e,t){return e.tag!==t.tag||typeof e!=typeof t||r(typeof e)&&e!==t},f=function(e,t,o,r){if(void 0===o)e.appendChild(u(t));else if(void 0===t){for(;r>0&&!e.childNodes[r];)r--;if(r>=0){var a=e.childNodes[r];if(o&&o.data){var c=o.data.onremove;c&&n(c,a)}e.removeChild(a)}}else if(i(t,o))e.replaceChild(u(t),e.childNodes[r]);else if(t.tag){var a=e.childNodes[r];s(a,t.data,o.data);for(var d=t.tree.length,l=o.tree.length,p=0;p<d||p<l;p++)f(a,t.tree[p],o.tree[p],p)}},u=function(e){var t;if(r(typeof e))t=document.createTextNode(e);else{t=e.data&&e.data.ns?document.createElementNS(e.data.ns,e.tag):document.createElement(e.tag);for(var o in e.data)"oncreate"===o?n(e.data[o],t):c(t,o,e.data[o]);for(var a=0;a<e.tree.length;a++)t.appendChild(u(e.tree[a]))}return t},c=function(e,t,n,o){if("style"===t)for(var r in n)e.style[r]=n[r];else if("on"===t.substr(0,2)){var a=t.substr(2);e.removeEventListener(a,o),e.addEventListener(a,n)}else"false"===n||n===!1?(e.removeAttribute(t),e[t]=!1):(e.setAttribute(t,n),e[t]=n)},d=function(e,t,n){e.removeAttribute("className"===t?"class":t),"boolean"!=typeof n&&"true"!==n&&"false"!==n||(e[t]=!1)},s=function(e,t,r){for(var a in o(r,t)){var i=t[a],f=r[a];void 0===i?d(e,a,f):i!==f&&("onupdate"===a?n(i,e):c(e,a,i,f))}},l=function(e){var t=[],n="^"+e.replace(/\//g,"\\/").replace(/:([A-Za-z0-9_]+)/g,function(e,n){return t.push(n),"([A-Za-z0-9_]+)"})+"/?$";return{re:n,keys:t}},p=function(e,t){for(var n in e){var o,r=l(n),a={};if(t.replace(new RegExp(r.re,"g"),function(){for(var t=arguments,i=1;i<arguments.length-2;i++)a[r.keys.shift()]=t[i];o=function(t,o){return e[n](t,o,a)}}),o)return o}return e["/"]},v={},h=e.model,m=e.update||{},y=e.effects||{},g=e.subs||{},E=o({onAction:Function.prototype,onUpdate:Function.prototype,onError:function(e){throw e}},e.hooks),b=e.root||document.body.appendChild(document.createElement("div")),w=e.view||function(e){return b},A="function"==typeof w?void 0:w;A&&(w=p(A,location.pathname),v.setLocation=function(e){a(h,w=p(A,e),t),history.pushState({},"",e)},window.addEventListener("popstate",function(e){a(h,w=p(A,location.pathname),t)}),window.addEventListener("click",function(e){if(!(e.metaKey||e.shiftKey||e.ctrlKey||e.altKey)){for(var t=e.target;t&&"a"!==t.localName;)t=t.parentNode;if(t&&t.host===location.host&&!t.hasAttribute("data-no-routing")){var n=""===t.hash?n:document.querySelector(t.hash);n?n.scrollIntoView(!0):(v.setLocation(t.pathname),e.preventDefault())}}}));var N=function(e){v[e]=function(n){E.onAction(e,n);var r=y[e];if(r)return r(h,v,n,E.onError);var i=m[e],f=h;a(h=o(h,i(h,n)),w,t),E.onUpdate(f,h,n)}};for(var L in o(m,y))N(L);document.addEventListener("DOMContentLoaded",function(e){for(var t in g)g[t](h,v,E.onError)}),a(h,w)},t=function(e,n,o){n.ns="http://www.w3.org/2000/svg",o.forEach(function(e){e.data&&t(e.tag,e.data,e.tree)})},n=function(e,n,o){return"svg"===e&&t(e,n,o),{tag:e,data:n||{},tree:[].concat.apply([],o)}},o={app:e,h:n};return o});
//# sourceMappingURL=hyperapp.min.js.map
