!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.hyperapp=t()}(this,function(){"use strict";function e(t,n,r){n.ns="http://www.w3.org/2000/svg";for(var o=0;o<r.length;o++){var a=r[o];a.data&&e(a.tag,a.data,a.tree)}}function t(e){return function(t,n,r){for(var o in n)o in i&&(n[i[o]]=n[o],delete n[o]);return e(t,n,r)}}function n(e){return e===m||e===y}function r(e){return E.test(e)}var o=function(t,n,r){return"svg"===t&&e(t,n,r),{tag:t,data:n||{},tree:[].concat.apply([],r)}},a=t,i={class:"className",for:"htmlFor","http-equiv":"httpEquiv"},f=a,s=0,u=1,l=2,p=3,h=4,c=5,d=6,g=7,v=8,m=9,y=10,b=11,w=12,A=function(e,t){function o(e){return"function"==typeof e?e:"string"==typeof e?e:e&&"object"==typeof e?e:a("",e)}e=f(e),t||(t={});var a=t.concat||function(e,t){return String(e)+String(t)};return function(t){function i(e){var t=[];A===g&&(A=h);for(var r=0;r<e.length;r++){var o=e.charAt(r);A===u&&"<"===o?(E.length&&t.push([u,E]),E="",A=l):">"!==o||n(A)?A===u?E+=o:A===l&&/\s/.test(o)?(t.push([l,E]),E="",A=h):A===l?E+=o:A===h&&/[\w-]/.test(o)?(A=c,E=o):A===h&&/\s/.test(o)?(E.length&&t.push([c,E]),t.push([w])):A===c&&/\s/.test(o)?(t.push([c,E]),E="",A=d):A===c&&"="===o?(t.push([c,E],[b]),E="",A=g):A===c?E+=o:A!==d&&A!==h||"="!==o?A!==d&&A!==h||/\s/.test(o)?A===g&&'"'===o?A=y:A===g&&"'"===o?A=m:A===y&&'"'===o?(t.push([v,E],[w]),E="",A=h):A===m&&"'"===o?(t.push([v,E],[w]),E="",A=h):A!==g||/\s/.test(o)?A===v&&/\s/.test(o)?(t.push([v,E],[w]),E="",A=h):A!==v&&A!==m&&A!==y||(E+=o):(A=v,r--):(t.push([w]),/[\w-]/.test(o)?(E+=o,A=c):A=h):(t.push([b]),A=g):(A===l?t.push([l,E]):A===c?t.push([c,E]):A===v&&E.length&&t.push([v,E]),t.push([p]),E="",A=u)}return A===u&&E.length?(t.push([u,E]),E=""):A===v&&E.length?(t.push([v,E]),E=""):A===y&&E.length?(t.push([v,E]),E=""):A===m&&E.length?(t.push([v,E]),E=""):A===c&&(t.push([c,E]),E=""),t}for(var f=arguments,A=u,E="",L=arguments.length,k=[],N=0;N<t.length;N++)if(N<L-1){var C=f[N+1],x=i(t[N]),F=A;F===y&&(F=v),F===m&&(F=v),F===g&&(F=v),F===h&&(F=c),x.push([s,F,C]),k.push.apply(k,x)}else k.push.apply(k,i(t[N]));for(var S=[null,{},[]],M=[[S,-1]],N=0;N<k.length;N++){var D=M[M.length-1][0],x=k[N],T=x[0];if(T===l&&/^\//.test(x[1])){var j=M[M.length-1][1];M.length>1&&(M.pop(),M[M.length-1][0][2][j]=e(D[0],D[1],D[2].length?D[2]:void 0))}else if(T===l){var K=[x[1],{},[]];D[2].push(K),M.push([K,D[2].length-1])}else if(T===c||T===s&&x[1]===c){for(var R,q="";N<k.length;N++)if(k[N][0]===c)q=a(q,k[N][1]);else{if(k[N][0]!==s||k[N][1]!==c)break;if("object"!=typeof k[N][2]||q)q=a(q,k[N][2]);else for(R in k[N][2])k[N][2].hasOwnProperty(R)&&!D[1][R]&&(D[1][R]=k[N][2][R])}k[N][0]===b&&N++;for(var z=N;N<k.length;N++)if(k[N][0]===v||k[N][0]===c)D[1][q]?D[1][q]=a(D[1][q],k[N][1]):D[1][q]=o(k[N][1]);else{if(k[N][0]!==s||k[N][1]!==v&&k[N][1]!==c){!q.length||D[1][q]||N!==z||k[N][0]!==p&&k[N][0]!==w||(D[1][q]=q.toLowerCase());break}D[1][q]?D[1][q]=a(D[1][q],k[N][2]):D[1][q]=o(k[N][2])}}else if(T===c)D[1][x[1]]=!0;else if(T===s&&x[1]===c)D[1][x[2]]=!0;else if(T===p){if(r(D[0])&&M.length){var j=M[M.length-1][1];M.pop(),M[M.length-1][0][2][j]=e(D[0],D[1],D[2].length?D[2]:void 0)}}else if(T===s&&x[1]===u)void 0===x[2]||null===x[2]?x[2]="":x[2]||(x[2]=a("",x[2])),Array.isArray(x[2][0])?D[2].push.apply(D[2],x[2]):D[2].push(x[2]);else if(T===u)D[2].push(x[1]);else if(T!==b&&T!==w)throw new Error("unhandled: "+T)}if(S[2].length>1&&/^\s*$/.test(S[2][0])&&S[2].shift(),S[2].length>2||2===S[2].length&&/\S/.test(S[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(S[2][0])&&"string"==typeof S[2][0][0]&&Array.isArray(S[2][0][2])&&(S[2][0]=e(S[2][0][0],S[2][0][1],S[2][0][2])),S[2][0]}},E=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-ï¿¿_:-]+)*$"),L=function(e){function t(e,t,n){h(w,c=t(e,d),n,0)}function n(e,t){for(var n in e){var o,a=r(n),i={};if(t.replace(new RegExp(a.re,"g"),function(){for(var t=arguments,r=1;r<arguments.length-2;r++)i[a.keys.shift()]=t[r];o=function(t,r){return e[n](t,r,i)}}),o)return o}return e["/"]}function r(e){var t=[],n="^"+e.replace(/\//g,"\\/").replace(/:([A-Za-z0-9_]+)/g,function(e,n){return t.push(n),"([A-Za-z0-9_]+)"})+"/?$";return{re:n,keys:t}}function o(e){return"string"===e||"number"===e||"boolean"===e}function a(e,t){setTimeout(function(){e(t)},0)}function i(e,t){var n,r={};if(o(typeof t)||Array.isArray(t))return t;for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r}function f(e,t){return e.tag!==t.tag||typeof e!=typeof t||o(typeof e)&&e!==t}function s(e){var t;if(o(typeof e))t=document.createTextNode(e);else{t=e.data&&e.data.ns?document.createElementNS(e.data.ns,e.tag):document.createElement(e.tag);for(var n in e.data)"oncreate"===n?a(e.data[n],t):l(t,n,e.data[n]);for(var r=0;r<e.tree.length;r++)t.appendChild(s(e.tree[r]))}return t}function u(e,t,n){e.removeAttribute("className"===t?"class":t),"boolean"!=typeof n&&"true"!==n&&"false"!==n||(e[t]=!1)}function l(e,t,n,r){if("style"===t)for(var o in n)e.style[o]=n[o];else if("on"===t.substr(0,2)){var a=t.substr(2);e.removeEventListener(a,r),e.addEventListener(a,n)}else"false"===n||n===!1?(e.removeAttribute(t),e[t]=!1):(e.setAttribute(t,n),e[t]=n)}function p(e,t,n){for(var r in i(n,t)){var o=t[r],f=n[r];void 0===o?u(e,r,f):o!==f&&("onupdate"===r?a(o,e):l(e,r,o,f))}}function h(e,t,n,r){if(void 0===n)e.appendChild(s(t));else if(void 0===t){for(;r>0&&!e.childNodes[r];)r--;if(r>=0){var o=e.childNodes[r];if(n&&n.data){var i=n.data.onremove;i&&a(i,o)}e.removeChild(o)}}else if(f(t,n))e.replaceChild(s(t),e.childNodes[r]);else if(t.tag){var o=e.childNodes[r];p(o,t.data,n.data);for(var u=t.tree.length,l=n.tree.length,c=0;c<u||c<l;c++)h(o,t.tree[c],n.tree[c],c)}}var c,d={},g=e.model,v=e.update||{},m=e.effects||{},y=e.subs||{},b=i({onAction:Function.prototype,onUpdate:Function.prototype,onError:function(e){throw e}},e.hooks),w=e.root||document.body.appendChild(document.createElement("div")),A=e.view||function(){return w},E="function"==typeof A?void 0:A;E&&(A=n(E,location.pathname),d.setLocation=function(e){t(g,A=n(E,e),c),history.pushState({},"",e)},window.addEventListener("popstate",function(){t(g,A=n(E,location.pathname),c)}),window.onclick=function(e){if(!(e.metaKey||e.shiftKey||e.ctrlKey||e.altKey)){for(var t=e.target;t&&"a"!==t.localName;)t=t.parentNode;if(t&&t.host===location.host&&!t.hasAttribute("data-no-routing")){var n=""===t.hash?n:document.querySelector(t.hash);n?n.scrollIntoView(!0):(d.setLocation(t.pathname),e.preventDefault())}}});for(var L in i(v,m))!function(e){d[e]=function(n){b.onAction(e,n);var r=m[e];if(r)return r(g,d,n,b.onError);var o=v[e],a=g;t(g=i(g,o(g,n)),A,c),b.onUpdate(a,g,n)}}(L);document.addEventListener("DOMContentLoaded",function(){for(var e in y)y[e](g,d,b.onError)}),t(g,A)},k=o,N={html:A(k),app:L,h:k};return N});
//# sourceMappingURL=hyperapp.hx.min.js.map
